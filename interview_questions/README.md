# 音视频开发相关面试题示例

[1. 为什么巨大的原始视频可以编码成很小的视频呢? 这其中的技术是什么呢?](#subject_001)  
[2. AAC 和 PCM 的区别?](#subject_002)  
[3. H.264 存储的两个形态分别是什么?](#subject_003)  
[4. 视频压缩的原理?](#subject_004)  
[5. H.264 的压缩技术主要包含哪些方面?](#subject_005)  
[6. 视频的清晰度由哪些因素决定?](#subject_006)  
[7. 视频的码率如何计算?](#subject_007)  
[8. YUV 与 RGB 的区别?](#subject_008)  
[9. YUV420 和 YUV422 的区别?](#subject_009)  
[10. 常见的音视频封装格式?](#subject_010)  
[11. FLV 文件结构?](#subject_011)  
[12. TS 文件特点?](#subject_012)  
[13. MP4 文件的结构?](#subject_013)  
[14. FLV、MP4、TS 的区别?](#subject_014)  
[15. 直播推流、拉流过程?](#subject_015)  
[16. 推流失败可能的原因?](#subject_016)  
[17. 常见的流媒体传输协议?](#subject_017)  
[18. RTMP 的特点?](#subject_018)  
[19. HLS 的特点?](#subject_019)  
[20. HTTP-FLV 的特点?](#subject_020)  
[21. WebRTC 的特点?](#subject_021)  
[22. HLS、HTTP-FLV、RTMP 的区别?](#subject_022)  
[23. CDN 在直播中的作用?](#subject_023)  
[24. 什么是码率自适应(ABR)?](#subject_024)  
[25. 什么是首屏时间? 如何优化?](#subject_025)  
[26. 什么是直播延迟? 如何降低延迟?](#subject_026)  
[27. 什么是秒开? 如何实现?](#subject_027)  
[28. 什么是卡顿率? 如何降低卡顿率?](#subject_028)  
[29. 什么是 P2P 直播? 有什么优缺点?](#subject_029)  
[30. 视频播放器的缓冲策略?](#subject_030)  
[31. 音画不同步的原因? 如何解决?](#subject_031)  
[32. 常见的音视频编码格式?](#subject_032)  
[33. CBR 和 VBR 的区别?](#subject_033)  
[34. 关键帧、非关键帧的区别?](#subject_034)  
[35. I 帧、P 帧、B 帧的区别?](#subject_035)  
[36. GOP 长度对视频的影响?](#subject_036)  
[37. H.264 编码过程?](#subject_037)  
[38. H.264 解码过程?](#subject_038)  
[39. H.264 码流结构?](#subject_039)  
[40. SPS、PPS 的作用?](#subject_040)  
[41. SEI 的作用?](#subject_041)  
[42. H.264 的熵编码方式?](#subject_042)  
[43. H.265 相比 H.264 的优势?](#subject_043)  
[44. 常见的音频编码方式?](#subject_044)  
[45. 采样率、码率、比特深度的区别?](#subject_045)  
[46. 常见的音频封装格式?](#subject_046)  
[47. PCM 编码方式?](#subject_047)  
[48. AAC 的编码原理?](#subject_048)  
[49. 什么是声道?](#subject_049)  
[50. 单声道、双声道、环绕声的区别?](#subject_050)  
[51. 什么是 GOP?](#subject_051)  
[52. 音频测试的测试点, 音频时延如何测试?](#subject_052)  
[53. 美颜的实现原理，具体实现步骤?](#subject_053)  
[54. 如何直播 APP 抓包过来的文件，如何过滤上行，下行，总码率?](#subject_054)  
[55. 如何测试一个美颜挂件?](#subject_055)  
[56. 为什么要用 FLV?](#subject_056)  
[57. 如何测试一个美颜挂件?](#subject_057)  
[58. 平常的视频格式?](#subject_058)  
[59. 何为 Homebrew？你用它安装过什么？常用命令有哪些？](#subject_059)  
[60. RTMP、HLS 协议各自的默认端口号是？](#subject_060)  



# <h3 id="subject_001">面试题1</h3>

为什么巨大的原始视频可以编码成很小的视频呢? 这其中的技术是什么呢?

##### 参考答案

* 1）空间冗余：图像相邻像素之间有较强的相关性  
* 2）时间冗余：视频序列的相邻图像之间内容相似  
* 3）编码冗余：不同像素值出现的概率不同  
* 4）视觉冗余：人的视觉系统对某些细节不敏感  
* 5）知识冗余：规律性的结构可由先验知识和背景知识得到  

---

# <h3 id="subject_002">面试题2</h3>

怎么做到直播秒开优化？

##### 参考答案

* **DNS 解析优化**  
  提前完成播放域名 → IP 地址的解析并缓存，播放时直接使用 IP，避免 DNS 解析耗时。（需要修改 ffmpeg 底层以支持 IP 播放）

* **播放策略优化**  
  首帧渲染前不要做额外缓冲，直接送入解码器，提高首开速度。

* **播放参数设置**  
  `avformat_find_stream_info` 耗时长，可通过调小 `probesize` 和 `analyzeduration` 缩短首开时间，但设置过小可能导致解析失败。

* **服务端优化**  
  - 关键帧缓冲  
  - CDN 就近调度  
  - 提供 GOP 头部快速下发  

---

# <h3 id="subject_003">面试题3</h3>

直方图在图像处理里面最重要的作用是什么？

##### 参考答案

1. 灰度直方图：描述图像中各灰度级像素的数量或频率，反映灰度分布。  
2. 局限性：不能反映像素的空间位置信息。  

**应用：**
* 灰度利用率分析（判断是否使用了完整灰度范围）  
* 阈值分割（二值化）  
* 目标面积估计  
* 信息量计算（熵）  

---

# <h3 id="subject_004">面试题4</h3>

数字图像滤波有哪些方法？

##### 参考答案

* **均值滤波**（邻域平均，去除随机噪声）  
* **中值滤波**（对椒盐噪声特别有效）  
* **高斯滤波**（线性平滑，权重加权平均）  
* **KNN 滤波 / 双边滤波**（保边缘的同时去噪）  
* **高通滤波**（增强边缘和细节）  
* **低通滤波**（平滑图像，去高频噪声）  

---

# <h3 id="subject_005">面试题5</h3>

图像可以提取的特征有哪些？

##### 参考答案

* **颜色特征**：直方图、颜色矩、HSV、Lab  
* **纹理特征**：粗糙度、方向性、对比度、LBP、Gabor  
* **形状特征**：轮廓、Hu 矩、曲率、离心率、主轴方向  
* **空间关系特征**：边缘分布、关键点（SIFT、SURF、ORB）  

---

# <h3 id="subject_006">面试题6</h3>

衡量图像重建好坏的标准有哪些？怎样计算？

##### 参考答案

* **MSE（均方误差）**  
  \[
  MSE = \frac{1}{mn}\sum_{i=1}^{m}\sum_{j=1}^{n}(I(i,j) - K(i,j))^2
  \]

* **PSNR（峰值信噪比）**  
  \[
  PSNR = 10 \cdot \log_{10}\frac{(2^n-1)^2}{MSE}
  \]

* **SSIM（结构相似性指标）**  
  从亮度、对比度、结构三方面衡量图像相似性。  

---

# <h3 id="subject_007">面试题7</h3>

AAC 和 PCM 的区别？

##### 参考答案

* **PCM（脉冲编码调制）**  
  - 未压缩的原始音频数据  
  - 高保真，占用带宽大（例如 CD 音质 44.1kHz/16bit/立体声 ≈ 1.4Mbps）  

* **AAC（高级音频编码）**  
  - 有损压缩格式  
  - 在保证音质接近 CD 的情况下，码率可以大幅降低（如 128kbps）  
  - 增加了头信息：采样率、声道数、采样位数  

✅ 总结：AAC 更适合传输和存储，PCM 更适合高质量音频处理。  

---

# <h3 id="subject_008">面试题8</h3>

H.264 存储的两种形态？

##### 参考答案

* **Annex B 格式**  
  - 使用起始码（Start Code, 0x000001 或 0x00000001）分隔 NALU 单元。  
  - 常用于实时流媒体（RTSP、RTP）。  

* **AVCC 格式**  
  - 使用长度字段表示 NALU 单元的大小。  
  - 常用于 MP4、FLV 等容器文件中。  

---

# <h3 id="subject_009">面试题9</h3>

YUV 与 RGB 的区别？

##### 参考答案

* **RGB**  
  - 三个分量：Red、Green、Blue  
  - 直接对应显示器的三基色  
  - 数据量大，不适合视频压缩  

* **YUV**  
  - Y：亮度（灰度），UV：色度（颜色信息）  
  - 人眼对亮度更敏感，对色彩分辨率要求低  
  - 视频压缩中常采用色度子采样（如 YUV420），大幅减少数据量  

---

# <h3 id="subject_010">面试题10</h3>

H.264 的关键帧 (I 帧)、P 帧、B 帧的作用？

##### 参考答案

* **I 帧（Intra frame）**  
  - 内部编码帧，独立解码，类似关键帧  
  - 占用空间大，但可作为随机访问点  

* **P 帧（Predicted frame）**  
  - 前向预测帧，依赖前面帧解码  
  - 体积比 I 帧小  

* **B 帧（Bi-predicted frame）**  
  - 双向预测帧，依赖前后帧解码  
  - 压缩率最高，但解码复杂度大  

---

# <h3 id="subject_011">面试题11</h3>

RTMP、RTSP、HLS 的区别？

##### 参考答案

* **RTMP（Real-Time Messaging Protocol）**  
  - 基于 TCP，低延迟（1-3s）  
  - 常用于推流和直播间实时播放  

* **RTSP（Real-Time Streaming Protocol）**  
  - 控制协议，配合 RTP/RTCP 使用  
  - 常见于监控摄像头、实时视频点播  

* **HLS（HTTP Live Streaming）**  
  - 基于 HTTP 的分段传输，延迟较高（10-30s）  
  - 适合大规模分发，跨平台兼容性好  

---

# <h3 id="subject_012">面试题12</h3>

什么是 GOP？它在视频编码中的作用是什么？

##### 参考答案

* **GOP（Group of Pictures）**  
  - 一组连续帧的集合，以一个 I 帧开始，后跟若干 P/B 帧  
  - 例如：`IBBPBBPBBI...`  

* **作用**：  
  - 控制随机访问（I 帧越多，seek 越方便）  
  - 控制压缩率（GOP 越长，压缩率越高，但错误传播风险大）  
  - 常见设置：`GOP = 帧率 × 2`（如 25fps，GOP=50）  

---

# <h3 id="subject_013">面试题13</h3>

视频的码率控制方式有哪些？

##### 参考答案

* **CBR（Constant Bitrate）恒定码率**  
  - 每秒输出数据量固定  
  - 稳定带宽下使用，如直播  

* **VBR（Variable Bitrate）可变码率**  
  - 按内容复杂度分配码率  
  - 提高画质，节省空间，但带宽不稳定  

* **ABR（Average Bitrate）平均码率**  
  - 综合 CBR 与 VBR，保证平均码率接近目标值  

---

# <h3 id="subject_014">面试题14</h3>

FFmpeg 常用命令有哪些？

##### 参考答案

* **格式转换**  
  `ffmpeg -i input.avi output.mp4`  

* **抽取音频**  
  `ffmpeg -i input.mp4 -vn -acodec copy output.aac`  

* **抽取视频**  
  `ffmpeg -i input.mp4 -an -vcodec copy output.h264`  

* **截图**  
  `ffmpeg -i input.mp4 -ss 00:00:10 -vframes 1 output.jpg`  

* **推流到 RTMP**  
  `ffmpeg -re -i input.mp4 -c copy -f flv rtmp://server/live/stream`  

---

# <h3 id="subject_015">面试题15</h3>

什么是 H.265 (HEVC)，它与 H.264 的区别是什么？

##### 参考答案

* **H.265 (HEVC)**  
  - High Efficiency Video Coding，高效视频编码标准  
  - 相比 H.264 在同等画质下码率降低约 50%  

* **区别**  
  - **压缩效率**：H.265 更高（支持更大块划分 CTU）  
  - **支持分辨率**：H.265 可支持 8K，H.264 最高 4K  
  - **硬件要求**：H.265 解码复杂度更高，需要更强 CPU/GPU  
  - **兼容性**：H.264 更广泛，H.265 逐步普及  

---

# <h3 id="subject_016">面试题16</h3>

什么是码率自适应（ABR/Adaptive Bitrate）？

##### 参考答案

* **定义**  
  码率自适应是指根据用户当前网络带宽和设备性能，动态选择合适的码率进行播放。  

* **实现方式**  
  - HLS、DASH 协议：提供多种码率的切片，播放器根据 buffer 和网络情况选择。  
  - 网络状况差时降码率，保证流畅；网络好时升码率，保证清晰度。  

---

# <h3 id="subject_017">面试题17</h3>

直播延迟产生的原因有哪些？

##### 参考答案

1. **采集端缓冲**（摄像头采集、音视频编码排队）  
2. **推流延迟**（网络抖动、丢包重传）  
3. **CDN 分发延迟**（多级缓存）  
4. **协议延迟**（RTMP ~2s，HLS ~10-30s）  
5. **播放器缓冲**（防止卡顿，通常会预加载几秒）  

---

# <h3 id="subject_018">面试题18</h3>

如何降低直播延迟？

##### 参考答案

* **使用低延迟协议**（WebRTC、SRT、低延迟 HLS）  
* **缩短 GOP 长度**（I 帧间隔）  
* **减小缓冲区**（播放器端减少预加载时长）  
* **优化编码参数**（降低 B 帧数量，减少压缩复杂度）  
* **服务端优化**：CDN 边缘节点实时分发  

---

# <h3 id="subject_019">面试题19</h3>

什么是音视频同步（AV Sync），如何实现？

##### 参考答案

* **定义**：音频和视频需要保持时间戳对齐，避免 “音画不同步”。  

* **实现方法**：  
  - 以 **音频时钟** 为基准（因音频容忍度低）  
  - 通过 PTS/DTS（解码/显示时间戳）调整视频播放速度  
  - 如果视频落后：丢帧或加快播放  
  - 如果音频落后：音频丢包或插入静音  

---

# <h3 id="subject_020">面试题20</h3>

视频中的 PTS 和 DTS 有什么区别？

##### 参考答案

* **PTS（Presentation Time Stamp）显示时间戳**  
  - 表示帧应该被 **显示** 的时间  
  - 播放器根据 PTS 渲染画面  

* **DTS（Decoding Time Stamp）解码时间戳**  
  - 表示帧应该被 **解码** 的时间  
  - 由于 B 帧存在前后依赖，解码顺序和显示顺序可能不同  

✅ 简单理解：DTS → 解码顺序，PTS → 播放顺序。  

---

# <h3 id="subject_021">面试题21</h3>

什么是 TS 流和 MP4 封装的区别？

##### 参考答案

* **TS（Transport Stream）**  
  - 适合实时传输（直播、广播）  
  - 每个包固定长度（188 字节）  
  - 丢包时影响较小，可快速恢复  

* **MP4**  
  - 文件封装格式，适合点播和存储  
  - 结构化强（moov、mdat 等 box）  
  - 丢包后难以恢复  

---

# <h3 id="subject_022">面试题22</h3>

H.264 编码时，宏块（Macroblock）的作用是什么？

##### 参考答案

* **宏块（Macroblock，16×16 像素）**  
  - 是 H.264 编码的基本单位  
  - 每个宏块可以进一步划分为 16×16、8×8、4×4 的块  

* **作用**  
  - 提高压缩效率：宏块内做预测、变换、量化  
  - 利用空间相关性和时间相关性  

---

# <h3 id="subject_023">面试题23</h3>

什么是 B 帧的双向预测？

##### 参考答案

* **B 帧（Bidirectional Predicted Frame）**  
  - 使用前一帧和后一帧同时作为参考进行预测  
  - 例如：帧序列 `I P B B P`，B 帧会参考前面的 P 帧和后面的 P 帧  

* **优点**  
  - 提高压缩率  
  - 更准确的运动估计  

* **缺点**  
  - 增加解码延迟和复杂度  

---

# <h3 id="subject_024">面试题24</h3>

什么是视频的色度抽样（Chroma Subsampling）？

##### 参考答案

* **定义**：减少色度分量（U、V）的采样率以节省带宽。  

* **常见格式**  
  - **4:4:4** → 无压缩（RGB 转换）  
  - **4:2:2** → 每 2 个像素共享一个色度（常见于专业视频）  
  - **4:2:0** → 每 4 个像素共享一个色度（最常见，视频编码标准）  

✅ 人眼对亮度敏感，对色度不敏感 → 所以可以牺牲色度压缩。  

---

# <h3 id="subject_025">面试题25</h3>

视频关键帧间隔设置的影响？

##### 参考答案

* **间隔短（I 帧多）**  
  - 优点：seek 快速、错误恢复快  
  - 缺点：码率高，占用空间大  

* **间隔长（I 帧少）**  
  - 优点：压缩效率高，文件小  
  - 缺点：随机访问差，解码依赖性强  

---

# <h3 id="subject_026">面试题26</h3>

SPS 和 PPS 在 H.264 中的作用？

##### 参考答案

* **SPS（Sequence Parameter Set）序列参数集**  
  - 包含整个视频序列的全局信息（分辨率、帧率、级别等）  

* **PPS（Picture Parameter Set）图像参数集**  
  - 包含单帧或一组图像的参数（熵编码模式、量化参数等）  

✅ 解码器必须先获取 SPS/PPS 才能正确解码视频。  

---

# <h3 id="subject_027">面试题27</h3>

什么是 H.264 的熵编码？

##### 参考答案

* **熵编码（Entropy Coding）**：无损压缩技术，用于减少数据冗余。  

* **H.264 使用的两种熵编码方式**：  
  - **CAVLC（Context-Adaptive Variable Length Coding）**：变长编码，简单快速  
  - **CABAC（Context-Adaptive Binary Arithmetic Coding）**：算术编码，压缩率高，但复杂度大  

---

# <h3 id="subject_028">面试题28</h3>

视频码率过高或过低会导致什么问题？

##### 参考答案

* **码率过高**  
  - 文件大，带宽占用高  
  - 播放时可能卡顿（网络不足）  

* **码率过低**  
  - 画质模糊、马赛克、块效应  
  - 丢失细节，体验差  

✅ 码率要和分辨率、帧率匹配，例如 1080p@30fps 通常 4-6Mbps。  

---

# <h3 id="subject_029">面试题29</h3>

什么是运动估计和运动补偿？

##### 参考答案

* **运动估计（Motion Estimation）**  
  - 找到当前帧和参考帧之间的运动矢量（宏块匹配）  

* **运动补偿（Motion Compensation）**  
  - 根据运动矢量重建预测图像，减少时间冗余  

✅ H.264 采用多参考帧、多块大小搜索，提高预测精度。  

---

# <h3 id="subject_030">面试题30</h3>

常见的视频压缩伪影有哪些？

##### 参考答案

* **块效应（Blocking Artifact）**：方块状噪声  
* **振铃效应（Ringing Artifact）**：边缘处出现振荡波纹  
* **模糊（Blurring）**：细节丢失  
* **色带效应（Banding）**：平滑区域出现分层现象  

---

# <h3 id="subject_031">面试题31</h3>

直播中为什么需要 GOP 缓存？

##### 参考答案

* **原因**：观众进入直播间时，需要立即拿到一个 I 帧才能解码视频。  
* **解决方案**：服务端缓存最近一个 GOP，观众加入时直接下发 → 避免黑屏。  

---

# <h3 id="subject_032">面试题32</h3>

什么是丢帧？在什么情况下会发生？

##### 参考答案

* **定义**：解码器或播放器未能渲染某些帧，直接跳过。  

* **原因**：  
  - CPU 性能不足，解码不过来  
  - 网络带宽不足，数据丢包  
  - 播放器主动丢帧（为保持音视频同步）  

---

# <h3 id="subject_033">面试题33</h3>

什么是 RTCP？它的作用是什么？

##### 参考答案

* **RTCP（Real-time Transport Control Protocol）**  
  - RTP 的控制协议，和 RTP 搭配使用  

* **作用**：  
  - 传输统计信息（丢包率、抖动、延迟）  
  - 提供 QoS 反馈（质量控制）  
  - 参与时钟同步  

---

# <h3 id="subject_034">面试题34</h3>

视频解码为什么会卡顿？

##### 参考答案

* **原因**  
  - CPU/GPU 性能不足  
  - 码率过高，解码复杂  
  - 网络延迟、丢包  
  - 播放器缓冲策略不合理  

* **解决**  
  - 硬件解码（GPU、DSP）  
  - 降低码率/分辨率  
  - 优化缓冲策略  

---

# <h3 id="subject_035">面试题35</h3>

什么是 DASH？

##### 参考答案

* **DASH（Dynamic Adaptive Streaming over HTTP）**  
  - 基于 HTTP 的自适应码率流媒体协议  
  - 类似 HLS，但由 MPEG 标准化组织制定  

* **特点**  
  - 多码率切换，适应不同网络  
  - 使用 MP4 分片（fMP4）而非 TS  
  - 延迟可比 HLS 更低  

---

# <h3 id="subject_036">面试题36</h3>

什么是 SRT 协议？它的优势是什么？

##### 参考答案

* **SRT（Secure Reliable Transport）**  
  - 低延迟视频传输协议  
  - 基于 UDP，支持 ARQ 重传、FEC 前向纠错  
  - 开源，由 Haivision 提出  

* **优势**  
  - 抗丢包能力强，弱网环境表现好  
  - 支持端到端加密（AES）  
  - 延迟低，可达 200ms 以下  

---

# <h3 id="subject_037">面试题37</h3>

什么是 RTP 协议？它与 RTMP 有什么不同？

##### 参考答案

* **RTP（Real-time Transport Protocol）**  
  - 运行在 UDP 之上  
  - 用于音视频的实时传输  
  - 通常和 RTCP 配合使用  

* **RTMP（Real Time Messaging Protocol）**  
  - 基于 TCP，Adobe 提出  
  - 常用于推流到服务器（如 CDN）  
  - 延迟较高（2~5s）  

✅ 区别：RTP 更实时，RTMP 更稳定。  

---

# <h3 id="subject_038">面试题38</h3>

什么是 WebRTC？它的应用场景有哪些？

##### 参考答案

* **WebRTC（Web Real-Time Communication）**  
  - 谷歌提出的实时音视频通信技术  
  - 支持 P2P 传输  
  - 内置于浏览器（Chrome、Firefox 等）  

* **应用场景**  
  - 视频通话（腾讯会议、Zoom、Google Meet）  
  - 在线教育  
  - 互动直播  
  - 远程协作  

---

# <h3 id="subject_039">面试题39</h3>

什么是 B 帧延迟？为什么低延迟场景中会禁用 B 帧？

##### 参考答案

* **B 帧延迟**：解码 B 帧需要依赖前后帧 → 导致解码顺序和显示顺序不一致。  
* **低延迟场景禁用 B 帧原因**：  
  - 解码器需要缓存未来帧，增加延迟  
  - 直播/会议不能容忍额外延迟  
  - 只用 I/P 帧即可保证实时性  

---

# <h3 id="subject_040">面试题40</h3>

什么是 YUV 格式？常见的存储方式有哪些？

##### 参考答案

* **YUV**：一种颜色空间，分为亮度（Y）和色度（U、V）。  
* **常见存储格式**：  
  - **YUV420P**：平面存储，Y + U + V  
  - **NV12**：交错存储，Y + UV  
  - **NV21**：交错存储，Y + VU  

---

# <h3 id="subject_041">面试题41</h3>

什么是 H.265（HEVC）？与 H.264 相比有什么优势？

##### 参考答案

* **H.265（HEVC，High Efficiency Video Coding）**  
  - H.264 的后继标准  
  - 压缩率提升约 30-50%  

* **优势**  
  - 更灵活的编码单元（CTU，替代宏块）  
  - 更高效的运动预测和熵编码  
  - 支持更高分辨率（4K/8K）  

---

# <h3 id="subject_042">面试题42</h3>

视频解码中的硬解码和软解码区别？

##### 参考答案

* **硬解码（Hardware Decoding）**  
  - 使用 GPU/DSP/专用芯片解码  
  - 优点：性能高、功耗低  
  - 缺点：灵活性差，受硬件支持限制  

* **软解码（Software Decoding）**  
  - 使用 CPU 运行解码算法  
  - 优点：灵活，可支持新格式  
  - 缺点：性能差，功耗高  

---

# <h3 id="subject_043">面试题43</h3>

什么是 HDR 视频？

##### 参考答案

* **HDR（High Dynamic Range）**：高动态范围成像技术。  
* **特点**  
  - 更高亮度范围（1000+ nits）  
  - 更广色域（Rec.2020）  
  - 更高色深（10bit/12bit）  
* **应用**：4K 电视、蓝光、流媒体（Netflix、Disney+）。  

---

# <h3 id="subject_044">面试题44</h3>

常见的视频帧率有哪些？不同帧率的应用场景？

##### 参考答案

* **24fps** → 电影  
* **25fps** → PAL 制式（欧洲电视）  
* **30fps** → NTSC 制式（美国/日本电视）  
* **50fps / 60fps** → 体育赛事、游戏直播  
* **120fps+** → VR/AR、高帧率视频  

---

# <h3 id="subject_045">面试题45</h3>

什么是关键帧提取？它的应用场景？

##### 参考答案

* **关键帧提取**：从视频中提取能代表内容的帧（通常是 I 帧）。  
* **应用场景**  
  - 视频缩略图  
  - 内容检索（视频摘要、检索）  
  - 视频监控分析  

---

# <h3 id="subject_046">面试题46</h3>

视频转码的作用是什么？

##### 参考答案

* **转码**：将视频从一种格式转换为另一种格式。  
* **作用**  
  - 格式兼容（不同设备支持）  
  - 码率自适应（多码率转码）  
  - 降低带宽（压缩）  
  - 增加新特性（加水印、加字幕）  

---

# <h3 id="subject_047">面试题47</h3>

什么是低延迟 HLS（LL-HLS）？

##### 参考答案

* **LL-HLS（Low Latency HLS）**：Apple 推出的低延迟 HLS 协议。  
* **特点**  
  - 支持切片分片（partial segment）  
  - 播放器可提前请求未完整的切片  
  - 延迟可降至 2-3 秒  

---

# <h3 id="subject_048">面试题48</h3>

什么是 CMAF？它的作用是什么？

##### 参考答案

* **CMAF（Common Media Application Format）**  
  - MPEG 推出的媒体封装标准  
  - 基于 fMP4（分片 MP4）  

* **作用**  
  - 统一 HLS 和 DASH 的封装格式  
  - 提升 CDN 缓存利用率  
  - 降低延迟  

---

# <h3 id="subject_049">面试题49</h3>

什么是码控（Rate Control）？常见方式有哪些？

##### 参考答案

* **码控**：控制视频编码输出的比特率。  
* **常见方式**  
  - **CBR（Constant Bitrate）**：恒定码率  
  - **VBR（Variable Bitrate）**：可变码率  
  - **ABR（Average Bitrate）**：平均码率  
  - **CRF（Constant Rate Factor）**：恒定质量模式  

---

# <h3 id="subject_050">面试题50</h3>

视频编码中的延迟类型有哪些？

##### 参考答案

* **编码延迟**：编码器处理时间（运动估计、压缩计算）。  
* **传输延迟**：网络传输时间（TCP/UDP）。  
* **解码延迟**：解码器处理时间。  
* **播放延迟**：播放器缓冲和渲染时间。  

✅ 总延迟 = 编码 + 传输 + 解码 + 播放。  

---

# <h3 id="subject_051">面试题51</h3>

什么是 GOP？

##### 参考答案

* **GOP（Group of Pictures）**：一组连续的画面，由一个 I 帧和若干 P/B 帧组成，是视频编码的基本单位。  
* **作用**：  
  - 决定视频的压缩效率  
  - 影响码率和视频质量  
  - 决定随机访问和快进/快退的流畅度  
* **特性**：  
  - GOP 越长 → 压缩率高，随机访问差，延迟大  
  - GOP 越短 → 压缩率低，随机访问好，延迟低  

---

# <h3 id="subject_052">面试题52</h3>

音频测试的测试点，音频时延如何测试？

##### 参考答案

* **测试点**  
  - 功能（能否正常录制/播放）  
  - 性能（码率、采样率、延迟）  
  - 兼容性（不同系统/设备）  
  - 功耗测试  
  - 安全性（数据保护）  
  - 压力测试（长时间运行稳定性）  
  - **音质评测**：客观指标（POLQA、PESQ），主观听感  
  - **时延**：主播端到观众端，观众之间的延迟  
  - **3A（回声消除、自动增益、噪声抑制）效果**  

* **音频时延测试**  
  - 方法 1：用音频线将两个设备连接到电脑，通过 **PESQ/POLQA 脚本**计算端到端时延  
  - 方法 2：打拍手或发测试音 → 麦克风采集 → 录屏或波形比对  

---

# <h3 id="subject_053">面试题53</h3>

美颜的实现原理，具体实现步骤？

##### 参考答案

* **原理**：基于图像处理与计算机视觉算法，对人脸关键点定位后，进行磨皮、美白、瘦脸、大眼等操作。  
* **具体步骤**：  
  1. **人脸检测** → 定位人脸区域  
  2. **人脸关键点检测** → 识别眼睛、鼻子、嘴巴、轮廓  
  3. **图像处理**  
     - 磨皮：双边滤波、高斯模糊 + 保边处理  
     - 美白：提高亮度/色彩映射  
     - 瘦脸/大眼：基于关键点的几何变形  
  4. **实时渲染** → GPU 加速，保证在直播场景不卡顿  

---

# <h3 id="subject_054">面试题54</h3>

如何直播 APP 抓包过来的文件，如何过滤上行、下行、总码率？

##### 参考答案

* 使用 **Wireshark / Charles / Fiddler** 等工具进行抓包  
* **过滤规则**：  
  - 上行：`ip.src == 192.168.x.x`  
  - 下行：`ip.dst == 192.168.x.x`  
  - 总码率：`ip.src == 192.168.x.x or ip.dst == 192.168.x.x`  
* **码率计算**：统计传输的数据包大小 / 时间，即可得到实时码率  

---

# <h3 id="subject_055">面试题55</h3>

如何测试一个美颜挂件？

##### 参考答案

* **测试维度**  
  - **功能测试**：挂件能否正常加载、切换、关闭  
  - **效果测试**：磨皮、美白、瘦脸等是否符合预期  
  - **性能测试**：在不同手机、不同分辨率下的帧率、延迟、功耗  
  - **兼容性**：iOS/Android 不同系统，前/后摄像头适配  
  - **稳定性**：长时间直播是否崩溃、是否内存泄漏  

---

# <h3 id="subject_056">面试题56</h3>

为什么要用 FLV？

##### 参考答案

* 因为 RTMP 协议只支持 **FLV 封装格式**  
* **优势**：  
  - 封装简单，适合流式传输  
  - 支持音视频流同步  
  - 支持边下边播（适合直播）  
* 但 FLV 不适合点播（兼容性差，逐渐被 MP4 取代）  

---

# <h3 id="subject_057">面试题57</h3>

如何测试一个美颜挂件？

##### 参考答案

⚠️ 该题与 **面试题 55** 重复，答案相同，可参考 **面试题 55**。  

---

# <h3 id="subject_058">面试题58</h3>

常见的视频格式？

##### 参考答案

* **封装格式**：  
  - MP4  
  - AVI  
  - MOV  
  - MKV  
  - FLV  
  - RMVB  
* **特点**：  
  - MP4 → 通用最广  
  - AVI → 体积大，少用  
  - MOV → Apple 设备常见  
  - MKV → 支持多音轨、多字幕  
  - FLV → 直播常用  

---

# <h3 id="subject_059">面试题59</h3>

何为 Homebrew？你用它安装过什么？常用命令有哪些？

##### 参考答案

* **Homebrew**：Mac 系统下的包管理工具  
* **作用**：一键安装/卸载/升级软件，省去手动编译的复杂过程  
* **常用命令**：  
  - `brew install xxx` → 安装软件  
  - `brew uninstall xxx` → 卸载软件  
  - `brew search xxx` → 搜索软件  
  - `brew list` → 查看已安装软件  
  - `brew update` → 更新 brew 自身  
  - `brew upgrade` → 升级已安装软件  
  - `brew help` → 查看帮助  
* **应用**：安装 nginx、ffmpeg、git 等开发工具  

---

# <h3 id="subject_060">面试题60</h3>

RTMP、HLS 协议各自的默认端口号是？

##### 参考答案

* RTMP 默认端口号：**1935**  
* HLS 默认端口号：**80/8080（HTTP）**  

---
